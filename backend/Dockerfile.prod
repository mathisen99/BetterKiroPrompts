# Runtime stage - uses pre-built binary from build.sh
FROM alpine:latest

WORKDIR /app

RUN apk --no-cache add ca-certificates git docker-cli

# Copy pre-built binary and static files from build.sh
COPY server .
COPY static ./static

# Copy default config (can be overridden via volume mount)
COPY config.example.toml config.toml

EXPOSE 8090

CMD ["./server"]
